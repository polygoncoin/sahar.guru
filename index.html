<html>
    <head>
        <title></title>
        <style>
            html, body {
                background-color:#ffe6ee;
                margin: 0 0 0 0;
            }
            .header {
                margin: 0 0 0 0;
            }
            .menu {
                margin: 0 0 0 0;
                padding: 5 0 5 0;
                background-color: #cccccc;
            }
            .body {
                background-color: #ffffe6;
                margin: 0 0 0 0;
            }
            .gridListingRow {
                margin: 0;
                padding: 5 0 5 0;
            }
            .gridListingColumnLeft {
                margin: 0;
                padding: 5 10 5 0;
            }
            .gridListingColumn {
                margin: 0;
                padding: 5 10 5 10;
            }
            .gridListingColumnRight {
                margin: 0;
                padding: 5 0 5 10;
            }
            .productName {
                margin: 0;
                padding: 5 5 0 5;
            }
            .footer {
                margin: 0 0 0 0;
            }
            .aboutUs {
                margin: 0;
                padding: 20 0 0 0;
            }
            .map {
                margin: 0;
                padding: 5 0 5 5;
                width: 475;
            }
            .content {
                max-width: 860px;
                margin: auto;
                padding: 0 0 0 0;
            }
            div.displayInlineBlock {
                display: inline-block;
            }
        </style>
                            <style>
                        .menu {
                            position: relative;
                        }
                        .padl {
                            position: relative;
                            padding-right: 10px;;
                        }
                        .subMenu {
                            position: absolute;
                            display: none;
                            background-color: #ffe6aa;
                            z-index: 2;
                        }
                        .collapse {
                            border: 1px solid black;
                            border-collapse: collapse;
                            padding: 0px;
                            margin: 0px;
                        }
                        .brand {
                            border: 0px;
                            background-color: #ffffe6;
                            padding: 0px;
                            margin: 0px;
                        }
                        .subMenus:hover, .subSubMenus:hover {
                            background-color: #ffe6ee;
                        }
                        .hide {
                            display: none;
                        }
input[type="checkbox"] {
  -webkit-appearance: none;
  appearance: none;
  margin: 0;
  padding: 0;
  vertical-align: middle;
  color: #000000;
  width: 15px;
  height: 15px;
  border: 1px solid;
  display: grid;
  place-content: center;
}
input[type="checkbox"]::before {
  content: "";
  width: 9px;
  height: 9px;
  transform: scale(0);
  background-color: #5f894a;
}
input[type="checkbox"]:checked::before {
  transform: scale(1);
}
                    </style>
    </head>
    <body>
        <!--Header start-->
        <div class="header">
            <div class="content">
                <div class="displayInlineBlock" style="width: 100%;">
                    <div class="displayInlineBlock" style="float: left;width: 270px;height: 70px; background-color: yellow;padding-left: 20px;"><h1>Customer Logo</h1></div>
                    <div class="displayInlineBlock" style="float: right;width: 468px;height: 60px; background-color: yellow;margin-top: 5px;">Ads...</div>
                </div>
            </div>
        </div>
        <!-- Menu start-->
        <div class="menu">
            <div class="content">
                <div id="menu"></div>
            </div>
        </div>
        <!--Menu end-->
        <!--Body start-->
        <div class="body">
            <div class="content">
                <div class="gridListingRow"></div>
                <div class="gridListingRow">
                    <div class="gridListingColumnLeft displayInlineBlock">
                        <img src="pimage.jpg" width="200" height="200">
                        <div class="productName">Product Name</div>
                    </div><div class="gridListingColumn displayInlineBlock">
                        <img src="pimage.jpg" width="200" height="200">
                        <div class="productName">Product Name</div>
                    </div><div class="gridListingColumn displayInlineBlock">
                        <img src="pimage.jpg" width="200" height="200">
                        <div class="productName">Product Name</div>
                    </div><div class="gridListingColumnRight displayInlineBlock">
                        <img src="pimage.jpg" width="200" height="200">
                        <div class="productName">Product Name</div>
                    </div>
                </div>
                <div class="gridListingRow">
                    <div class="gridListingColumnLeft displayInlineBlock">
                        <img src="pimage.jpg" width="200" height="200">
                        <div class="productName">Product Name</div>
                    </div><div class="gridListingColumn displayInlineBlock">
                        <img src="pimage.jpg" width="200" height="200">
                        <div class="productName">Product Name</div>
                    </div><div class="gridListingColumn displayInlineBlock">
                        <img src="pimage.jpg" width="200" height="200">
                        <div class="productName">Product Name</div>
                    </div><div class="gridListingColumnRight displayInlineBlock">
                        <img src="pimage.jpg" width="200" height="200">
                        <div class="productName">Product Name</div>
                    </div>
                </div>
            </div>
        </div>
        <!--Body end-->
        <!--Footer start-->
        <div class="footer">
            <div class="content">
                <div class="aboutUs">
                    <b>About Us</b>
                    <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.</p>
                </div>
                <div class="address">
                    <b>Address</b>
                    <p>
                        C22, 829, Sector 8, Charkop Kandivali West, Mumbai - 400067.
                        <a href="#" style="text-decoration: none;">Directions</a>
                    </p>
                </div>
                <div class="timings">
                    <b>Timings</b>
                    <p>
                        Mon - Sun Open 24 Hrs
                    </p>
                </div>
                <div class="copyright">
                    <p>Copyright &#169; sahar.guru - 2023</p>
                </div>
            </div>
        </div>
        <!--Footer start-->
        <script>
            function pad(pad, str, padLeft) {
                pad = '0000000000';
                if (typeof str === 'undefined') 
                    return pad;
                if (padLeft) {
                    return (pad + str).slice(-pad.length);
                } else {
                    return (str + pad).substring(0, pad.length);
                }
            }
            var brand = {
                '1': 'Brand 1',
                '2': 'Brand 2',
                '3': 'Brand 3',
                '4': 'Brand 4',
                '5': 'Brand 5',
            };
            var category = {
                '1': 'Category 1',
                '2': 'Category 2',
                '3': 'Category 3',
                '4': 'Category 4',
                '5': 'Category 5',
            };
            var products = {
                '1' : {
                    "categoryIds": [1],
                    "brandId": 1,
                    "productName": 'Product Name 1',
                    "productImage": '',
                },
                '2' : {
                    "categoryIds": [2],
                    "brandId": 1,
                    "productName": 'Product Name 2',
                    "productImage": '',
                },
                '3' : {
                    "categoryIds": [3],
                    "brandId": 1,
                    "productName": 'Product Name 3',
                    "productImage": '',
                },
                '4' : {
                    "categoryIds": [1,2,3],
                    "brandId": 1,
                    "productName": 'Product Name 4',
                    "productImage": '',
                },
                '5' : {
                    "categoryIds": [1,3,4],
                    "brandId": 1,
                    "productName": 'Product Name 5',
                    "productImage": '',
                },
                '6' : {
                    "categoryIds": [3,4,5],
                    "brandId": 1,
                    "productName": 'Product Name 6',
                    "productImage": '',
                },
                '7' : {
                    "categoryIds": [1,2],
                    "brandId": 1,
                    "productName": 'Product Name 7',
                    "productImage": '',
                },
                '8' : {
                    "categoryIds": [2,3],
                    "brandId": 1,
                    "productName": 'Product Name 8',
                    "productImage": '',
                },
                '9' : {
                    "categoryIds": [3,4],
                    "brandId": 1,
                    "productName": 'Product Name 9',
                    "productImage": '',
                },
                '10' : {
                    "categoryIds": [4,5],
                    "brandId": 1,
                    "productName": 'Product Name 10',
                    "productImage": '',
                },
            };
            var categoryHierarchy = {};
            for(i in products) {
                console.log(products[i]);
                switch (products[i]['categoryIds'].length) {
                    case 3:
                        var zero = products[i]['categoryIds'][0];
                        var one = products[i]['categoryIds'][1];
                        var two = products[i]['categoryIds'][2];
                        var name = category[two];
                        if (typeof categoryHierarchy[zero] === "undefined") {
                            categoryHierarchy[zero] = {};
                        }
                        if (typeof categoryHierarchy[zero]['subCategory'] === "undefined") {
                            categoryHierarchy[zero]['subCategory'] = {};
                        }
                        if (typeof categoryHierarchy[zero]['subCategory'][one] === "undefined") {
                            categoryHierarchy[zero]['subCategory'][one] = {};
                        }
                        if (typeof categoryHierarchy[zero]['subCategory'][one]['subCategory'] === "undefined") {
                            categoryHierarchy[zero]['subCategory'][one]['subCategory'] = {};
                        }
                        if (typeof categoryHierarchy[zero]['subCategory'][one]['subCategory'][two] === "undefined") {
                            categoryHierarchy[zero]['subCategory'][one]['subCategory'][two] = {};
                        }
                        categoryHierarchy[zero]['subCategory'][one]['subCategory'][two]['name'] = name;
                    case 2:
                        var zero = products[i]['categoryIds'][0];
                        var one = products[i]['categoryIds'][1];
                        var name = category[one];
                        if (typeof categoryHierarchy[zero] === "undefined") {
                            categoryHierarchy[zero] = {};
                        }
                        if (typeof categoryHierarchy[zero]['subCategory'] === "undefined") {
                            categoryHierarchy[zero]['subCategory'] = {};
                        }
                        if (typeof categoryHierarchy[zero]['subCategory'][one] === "undefined") {
                            categoryHierarchy[zero]['subCategory'][one] = {};
                        }
                        categoryHierarchy[zero]['subCategory'][one]['name'] = name;
                    case 1:
                        var zero = products[i]['categoryIds'][0];
                        var name = category[zero];
                        if (typeof categoryHierarchy[zero] === "undefined") {
                            categoryHierarchy[zero] = {};
                        }
                        categoryHierarchy[zero]['name'] = name;
                }
            }
            genMenu();
            function genMenu()
            {
                var html = '' +
                    '<div class="padl displayInlineBlock">' +
                        '<div>' +
                            '<span class="menuTitle">' +
                                '<div style="float:left;" class="resetCheckbox"><input type="checkbox" checked style="color: #FF0000;" onClick="checkboxClicked(null, null, null, this.checked);"/></div>' +
                            '</span>' +
                        '</div>' +
                    '</div>';
                for(i in categoryHierarchy) {
                    iPad = pad('00', i, true);
                    html += '' +
                    '<div class="padl displayInlineBlock">' +
                        '<div onmouseleave="hide(\'subMenu\', \'' + iPad + '\');">' +
                            '<span class="menuTitle" onmouseenter="displaySubMenu(\'' + iPad + '\');">' +
                                '<div style="float:left;"><input type="checkbox" checked class="checkbox backlink' + iPad + '" onClick="checkboxClicked(' + i + ', null, null, this.checked);"/></div>&nbsp;<span onClick="displayProduct(' + i + ',null,null, true)">' + categoryHierarchy[i]['name'] + '</span>' +
                            '</span>' +
                            '<!-- Sub Menu start-->' +
                            '<div class="subMenu" id="subMenu' + iPad + '">';
                    if (typeof categoryHierarchy[i]['subCategory'] !== "undefined") {
                        html += '' +
                                '<table width="600" height="200" cellpadding="0" cellspacing="5">' +
                                    '<tr>' +
                                        '<td class="collapse" width="200" valign="top">' +
                                            '<table width="200" cellpadding="0" cellspacing="2">';
                        for(j in categoryHierarchy[i]['subCategory']) {
                            jPad = pad('00', j, true);
                                                html += '' +
                                                '<tr>' +
                                                    '<td>' +
                                                        '<table width="100%" cellpadding="0" cellspacing="2">' +
                                                            '<tr>' +
                                                                '<td width="17" align="center"><input type="checkbox" checked class="checkbox checkbox' + iPad + ' backlink' + iPad + jPad + '" onClick="checkboxClicked(' + i + ',' + j + ', null, this.checked);"/></td>' +
                                                                '<td class="subMenus" align="left" onmouseenter="displaySubSubMenu(\'' + iPad + jPad + '\');" onClick="displayProduct(' + i + ',' + j + ',null, true)">' + categoryHierarchy[i]['subCategory'][j]['name'] + '</td>' +
                                                            '</tr>' +
                                                        '</table>'
                                                    '</td>' +
                                                '</tr>';
                        }
                                            html += '' +
                                            '</table>' +
                                        '</td>' +
                                        '<td class="collapse" width="400" valign="top">';
                        for(j in categoryHierarchy[i]['subCategory']) {
                            jPad = pad('00', j, true);
                                            html += '' +
                                            '<div id="subSubMenu' + iPad + jPad + '" class="subSubMenu hide">';
                            if (typeof categoryHierarchy[i]['subCategory'][j]['subCategory'] !== "undefined") {
                                                html += '' +
                                                '<table width="100%" cellpadding="0" cellspacing="2">' +
                                                    '<tr>' +
                                                        '<td valign="top">' +
                                                            '<table width="100%" cellpadding="0" cellspacing="2">' +
                                                                '<tr>';
                                for(k in categoryHierarchy[i]['subCategory'][j]['subCategory']) {
                                    kPad = pad('00', k, true);
                                                        html += '' +
                                                        '<tr>' +
                                                            '<td>' +
                                                                '<table width="100%" cellpadding="0" cellspacing="2">' +
                                                                    '<tr>' +
                                                                        '<td width="17" align="center"><input type="checkbox" class="checkbox checkbox' + iPad + ' checkbox' + iPad + jPad + '" checked onClick="checkboxClicked(' + i + ',' + j + ',' + k + ', this.checked);"/></td>' +
                                                                        '<td class="subSubMenus" align="left" onClick="displayProduct(' + i + ',' + j + ',' + k + ', true)">' + categoryHierarchy[i]['subCategory'][j]['subCategory'][k]['name'] + '</td>' +
                                                                    '</tr>' +
                                                                '</table>'
                                                            '</td>' +
                                                        '</tr>';
                                }
                                                    html += '' +
                                                                '</tr>' +
                                                            '</table>' +
                                                        '</td>' +
                                                    '</tr>' +
                                                '</table>';
                            }
                                            html += '' +
                                            '</div>';
                        }
                                        html += '' +
                                        '</td>' +
                                    '</tr>' +
                                    '<tr>' +
                                        '<td height="50" valign="top" colspan="2" class="collapse">' +
                                            '<table width="100%" cellpadding="0" cellspacing="5">' +
                                                '<tr>' +
                                                    '<td width="120" height="50" class="brand" align="center">Brand 1</td>' +
                                                    '<td width="120" height="50" class="brand" align="center">Brand 2</td>' +
                                                    '<td width="120" height="50" class="brand" align="center">Brand 3</td>' +
                                                    '<td width="120" height="50" class="brand" align="center">Brand 4</td>' +
                                                    '<td width="120" height="50" class="brand" align="center">Brand 5</td>' +
                                                '</tr>' +
                                            '</table>' +
                                        '</td>' +
                                    '</tr>' +
                                '</table>';
                    }
                            html += '' +
                            '</div>' +
                        '</div>' +
                    '</div>';
                }
                document.getElementById('menu').innerHTML = html;
            }
            
            function displaySubMenu(id)
            {
                // var subSubMenus = document.getElementsByClassName('subSubMenu');
                // for (let i = 0, i_length = subSubMenus.length; i < i_length; i++) {
                //     subSubMenus[i].style.display = "none";
                // }
                document.getElementById('subMenu' + id).style.display = "block";
            }
            function displaySubSubMenu(id)
            {
                var subSubMenus = document.getElementsByClassName('subSubMenu');
                for (let i = 0, i_length = subSubMenus.length; i < i_length; i++) {
                    subSubMenus[i].style.display = "none";
                }
                document.getElementById('subSubMenu' + id).style.display = "block";
            }
            function display(id, primaryKey)
            {
                document.getElementById(id+primaryKey).style.display = "block";
            }
            function hide(id, primaryKey)
            {
                document.getElementById(id+primaryKey).style.display = "none";
            }
            function displayProduct(i, j, k, closeMenu)
            {
                if (closeMenu === true) {
                    var subMenus = document.getElementsByClassName('subMenu');
                    for (let i = 0, i_length = subMenus.length; i < i_length; i++) {
                        subMenus[i].style.display = "none";
                    }
                }
                return true;
            }
            function checkboxClicked(i, j, k, checked)
            {
                let kPad = pad('00', k, true);
                if (k !== null) {
                    ;
                } else if (j !== null) {
                    let iPad = pad('00', i, true);
                    let jPad = pad('00', j, true);
                    checkAllByClass('checkbox'+iPad+jPad, checked);
                } else if (i !== null) {
                    let iPad = pad('00', i, true);
                    checkAllByClass('checkbox'+iPad, checked);
                } else {
                    checkAllByClass('checkbox', checked);
                }
                backlink(i, j, k, checked);
                displayProduct(i, j, k, false);
            }
            function checkAllByClass(className, checked)
            {
                var checkboxes = document.getElementsByClassName(className);
                for (let i = 0, i_length = checkboxes.length; i < i_length; i++) {
                    checkboxes[i].checked = checked;
                }
            }
            function backlink(i, j, k, checked)
            {
                var allChecked = null;
                var color = null;
                var partialColor = 'orange';
                var defaultColor = '#000000';
                if (k !== null) {
                    let kPad = pad('00', k, true);
                    let iPad = pad('00', i, true);
                    let jPad = pad('00', j, true);
                    if (checked && checkAllChecked('checkbox' + iPad + jPad)) {
                        color = defaultColor;
                    } else {
                        color = partialColor;
                    }
                    changeCheckboxBorderColor('backlink' + iPad + jPad, color);
                    if (checked && checkAllChecked('checkbox' + iPad)) {
                        color = defaultColor;
                    } else {
                        color = partialColor;
                    }
                    changeCheckboxBorderColor('backlink' + iPad, color);
                } else if (j !== null) {
                    let iPad = pad('00', i, true);
                    if (checked && checkAllChecked('checkbox' + iPad)) {
                        color = defaultColor;
                    } else {
                        color = partialColor;
                    }
                    changeCheckboxBorderColor('backlink' + iPad, color);
                } else if (i !== null) {
                    let iPad = pad('00', i, true);
                    color = defaultColor;
                    changeCheckboxBorderColor('checkbox' + iPad, color);
                    changeCheckboxBorderColor('backlink' + iPad, color);
                } else {
                    color = defaultColor;
                    changeCheckboxBorderColor('checkbox', color);
                }
            }
            function changeCheckboxBorderColor(className, color)
            {
                var checkboxes = document.getElementsByClassName(className);
                for (let i = 0, i_length = checkboxes.length; i < i_length; i++) {
                    checkboxes[i].style.color = color;
                }
            }
            function checkAllChecked(className)
            {
                var checked = true;
                var checkboxes = document.getElementsByClassName(className);
                for (let i = 0, i_length = checkboxes.length; i < i_length; i++) {
                    if (checkboxes[i].checked === false) {
                        checked = false;
                        break;
                    }
                }
                return checked;
            }
        </script>
</body>
</html>